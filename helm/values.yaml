# Namespace configuration
namespace:
  name: madara-system

nodePool:
  label: default  # Change this to your actual node label

# Redis configuration
redis:
  enabled: true
  name: redis-instance
  replicas: 1
  image:
    repository: "redis"
    tag: "7-alpine"
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 256Mi
  persistence:
    enabled: true
    storageClass: "gp3"  # Change to your storage class
    size: 5Gi
  port: 6379
  config:
    appendonly: "yes"
    appendfsync: "everysec"
    save: "900 1 300 10 60 10000"  # Save snapshots

# Transaction Syncing Service configuration
transaction_syncing_service:
  id: transaction-syncing-service-id
  name: transaction-syncing-service
  replicas: 1
  image:
    repository: "heemank/txn_replay_service"
    tag: "persistence_d9a23cf915f34cc4f03d6b2ed7f3754402df22ca"
  resources:
    limits:
      cpu: 500m
      memory: 1Gi
    requests:
      cpu: 250m
      memory: 512Mi
  environment:
    RPC_URL_ORIGINAL_NODE: "ORIGINAL NODE RPC URL"
    RPC_URL_SYNCING_NODE: "http://madara-instance-h-madara-service.madara-system.svc.cluster.local:9944"
    ADMIN_RPC_URL_SYNCING_NODE: "http://madara-instance-h-madara-service.madara-system.svc.cluster.local:9943"
    # Redis URL will be automatically constructed: redis://<redis-name>.<namespace>.svc.cluster.local:<port>
    REDIS_URL: "redis://redis-instance.madara-system.svc.cluster.local:6379"
